<link rel="stylesheet" type="text/css" href="{{request.static_url('kfhlog:static/css/qso.css')}}" />
<script src="{{request.static_url('kfhlog:static/js/qso.js')}}"></script>

<form id="qso">
    <div>
        <div id="col1">
            <div class="divTable">
                <div class="tr">
                    <div class="tdl"><label for="call">Call:</label></div>
                    <div class="tdr">
                        <input type="text" id="call" maxlength="20" size="20" /> <a id="qrz" href="https://www.qrz.com/db/" target="_blank"><span class="icon-link"></span></a>
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="date_on">Date:</label></div>
                    <div class="tdr">
                        <input type="date" id="date_on" size="10" placeholder="yyyy-mm-dd" /> <input type="time" id="time_on" size="8" placeholder="hh:mm[:ss]" />
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="rst_sent">RST Send:</label></div>
                    <div class="tdr">
                        <input type="text" id="rst_sent" size="10" /><input type="text" id="stx_string" size="10" />
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="rst_rcvd">RST Recv:</label></div>
                    <div class="tdr">
                        <input type="text" id="rst_rcvd" size="10" /><input type="text" id="srx_string" size="10" />
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="gridsquare">Locator:</label></div>
                    <div class="tdr">
                        <input type="text" id="gridsquare" maxlength="8" pattern="[A-Ra-r]{2}([0-9]{2}([A-Xa-x]{2}([0-9]{2})?)?)?" />
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="dxcc">Dxcc:</label></div>
                    <div class="tdr">
                        <select id="dxcc" data-placeholder="Select">
                            <option value=""></option>
                            {% for dxcc in dxcc_all %}
                            <option value="{{ dxcc.id }}">{{ dxcc.name }} [{{ dxcc.id }}]</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="name">Name:</label></div>
                    <div class="tdr">
                        <input type="text" id="name" />
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="qth">QTH:</label></div>
                    <div class="tdr">
                        <input type="text" id="qth" />
                    </div>
                </div>
                <div class="trc">
                    <div class="tdl"><label for="comment">Remarks:</label></div>
                    <div class="tdr">
                        <textarea id="comment"></textarea>
                    </div>
                </div>
            </div>
        </div>
        <div id="col2">
            <div class="divTable">
                <div class="tr">
                    <div class="tdl"><label for="mode">Mode:</label></div>
                    <div class="tdr">
                        <select id="mode" data-placeholder="Select">
                            <option value=""></option>
                            {% for mode in mode_all %}
                            <option value="{{ mode.id }}">{{ mode.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="band">Band:</label></div>
                    <div class="tdr">
                        <select id="band" data-placeholder="Select">
                            <option value=""></option>
                            {% for band in band_all %}
                            <option value="{{ band.id }}">{{ band.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="freq">Freq:</label></div>
                    <div class="tdr">
                        <input type="number" id="freq" placeholder="MHz" step="0.000001" min="0.000001"/>
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="state">State:</label></div>
                    <div class="tdr">
                        <input type="text" id="state" maxlength="20" />
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="cnty">Cnty:</label></div>
                    <div class="tdr">
                        <input type="text" id="cnty" maxlength="20" />
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="cqz">WAZ:</label></div>
                    <div class="tdr">
                        <input type="number" id="cqz" min="1" max="40" />
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="ituz">ITU:</label></div>
                    <div class="tdr">
                        <input type="number" id="ituz" min="1" max="75" />
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="cont">Cont:</label></div>
                    <div class="tdr">
                        <select id="cont" data-placeholder="Select">
                            <option value=""></option>
                            {% for cont in conts %}
                            <option>{{ cont }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="iota">IOTA:</label></div>
                    <div class="tdr">
                        <input type="text" id="iota" maxlength="6" pattern="([Aa][Ff]|[Aa][Nn]|[Aa][Ss]|[Ee][Uu]|[Nn][Aa]|[Oo][Cc]|[Ss][Aa])-[0-9]{3}" />
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="sota_ref">SOTA:</label></div>
                    <div class="tdr">
                        <input type="text" id="sota_ref" maxlength="20" pattern="[A-Za-z0-9]{1,3}/[A-Za-z]{2}-[0-9]{3}" />
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="qsl_via">QSL via:</label></div>
                    <div class="tdr">
                        <input type="text" id="qsl_via" maxlength="20" />
                    </div>
                </div>
            </div>
        </div>
        <div id="col3">
            <div class="divTable">
                <div class="tr">
                    <div class="tdl"><label for="profile">Profile:</label></div>
                    <div class="tdr">
                        <select id="profile" data-placeholder="Select">
                            {% for profile in profiles %}
                            <option value="{{ profile.id }}" data-gridsquare="{{ profile.gridsquare }}">{{ profile.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="group">Group:</label></div>
                    <div class="tdr">
                        <select id="group" data-placeholder="Select">
                            {% for group in groups %}
                            <option value="{{ group.id }}">{{ group.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="tr">
                    <div class="tdl"><label for="loc_info">Distance:</label></div>
                    <div class="tdr"><output id="loc_info">0.00km, 0.0&deg;</output></div>
                </div>
                <div class="tr">
                    <div class="tdl"></div>
                    <div class="tdr"></div>
                </div>
            </div>
        </div>
    </div>
    <input type="hidden" id="id" />
    <input type="button" id="update_button" value="Update" /> <input type="button" id="cancel_button" value="Cancel"/>
    {% if request.matched_route.name != "qso" %}
    <input type="button" id="opennewwindow_button" value="Open in new window"/>
    {% endif %}
</form>